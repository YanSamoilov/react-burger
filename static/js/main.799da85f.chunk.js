(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{115:function(e,t,r){e.exports={modalOverlay:"ModalOverlay_modalOverlay__PKNjM"}},116:function(e,t,r){e.exports={"burger-constructor__element":"ConstructorIngredient_burger-constructor__element__Q-sl_"}},20:function(e,t,r){e.exports={header:"Header_header__jn53E",header__logo:"Header_header__logo__3T1zS",header__nav:"Header_header__nav__39_4w","header__nav-list":"Header_header__nav-list__1niLD","header__nav-link":"Header_header__nav-link__3FQ8c","header__nav-link_active":"Header_header__nav-link_active__idzma","header__nav-link_right":"Header_header__nav-link_right__NMeru"}},206:function(e,t,r){},207:function(e,t,r){"use strict";r.r(t);var n=r(43),a=r.n(n),c=r(54),i=r(1),s=r(212),o=r(119),_=r(10),l=r(7),d=r(5),u=r(4),m=c.c,j=function(){return Object(c.b)()},p=r(11),b=r.n(p),f=r(25),O="https://norma.nomoreparties.space/api/",g=document.querySelector("#modal_container"),x="wss://norma.nomoreparties.space/orders";function h(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function v(e,t,r){var n=(r=r||{}).expires;if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),n=r.expires=a}n&&n.toUTCString&&(r.expires=n.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var i in r){c+="; "+i;var s=r[i];!0!==s&&(c+="="+s)}document.cookie=c}function N(e){v(e,"",{expires:-1})}function y(e,t){var r;"accessToken"===t?(0===e.accessToken.indexOf("Bearer")&&(r=e.accessToken.split("Bearer ")[1]),r&&v(t,r,{expires:1200})):(r=e.refreshToken)&&v(t,r)}var E=function(e){return e.ok?e.json():Promise.reject(e.status)},D=function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"ingredients"));case 2:return t=e.sent,e.abrupt("return",E(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"orders"),{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer "+r},body:JSON.stringify({ingredients:t})});case 2:return n=e.sent,e.abrupt("return",E(n));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return r=e.sent,e.abrupt("return",E(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return r=e.sent,e.abrupt("return",E(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});case 2:return r=e.sent,e.abrupt("return",E(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t.password,token:t.token})});case 2:return r=e.sent,e.abrupt("return",E(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h("refreshToken"),e.next=3,fetch("".concat(O,"auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})});case 3:return r=e.sent,e.abrupt("return",E(r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"auth/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})});case 2:return r=e.sent,e.abrupt("return",E(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"auth/user"),{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+t}});case 2:return r=e.sent,e.abrupt("return",E(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"auth/user"),{method:"PATCH",headers:{"Content-Type":"application/json",authorization:"Bearer "+r},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",E(n));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),L="GET_SERVER_REQUEST",A="REGISTER_USER_SUCCESS",M="REGISTER_USER_FAILED",U="AUTH_USER_SUCCESS",G="AUTH_USER_FAILED",H="LOGOUT_USER_SUCCESS",B="LOGOUT_USER_FAILED",W="CHANGE_USER_SUCCESS",z="CHANGE_USER_FAILED",V="POST_EMAIL_FORGOT_PAGE_SUCCESS",J="POST_EMAIL_FORGOT_PAGE_FAILED",q="POST_NEW_PASSWORD_SUCCESS",Y="POST_NEW_PASSWORD_FAILED",K="GET_SERVER_REQUEST_RESET",Q=function(){return{type:L}},X=function(e,t,r){return{type:W,email:e,name:t,changeUserResultMessage:r}},Z=function(e){return{type:z,changeUserErrorMessage:e}},$=function(e,t){return{type:U,email:e,name:t}},ee=function(e){return{type:G,authErrorMessage:e}},te=function(){return{type:K}},re=function(e,t){return function(r){r(Q()),R({password:e,token:t}).then((function(e){r({type:q})})).catch((function(e){r({type:Y,postNewpasswordErrorMessage:e})}))}},ne=function(e){return function(t){t(Q()),T(e).then((function(e){t({type:V})})).catch((function(e){t({type:J,postEmailForgotPageErrorMessage:e})}))}},ae=function(e){return function(t){t(Q()),w(e).then((function(e){y(e,"accessToken"),y(e,"refreshToken"),t({type:A})})).catch((function(e){t({type:M,registerErrorMessage:e})}))}},ce=function(){return function(e){e(Q()),k().then((function(){N("accessToken"),N("refreshToken"),e({type:H})})).catch((function(t){e({type:B,logoutErrorMessage:t})}))}},ie=r(40),se=r.n(ie),oe=r(0);var _e=function(){var e,t=j(),r=Object(_.h)(),n=m((function(e){return e.authUserReducer})),a=n.isAuth,c=n.authErrorMessage,s=Object(i.useState)(""),o=Object(l.a)(s,2),p=o[0],b=o[1],f=Object(i.useState)(""),O=Object(l.a)(f,2),g=O[0],x=O[1];return a?Object(oe.jsx)(_.a,{to:(null===(e=r.state)||void 0===e?void 0:e.from)||"/"}):Object(oe.jsxs)("section",{className:"".concat(se.a.login),children:[Object(oe.jsxs)("form",{method:"POST",name:"login",noValidate:!0,className:"".concat(se.a.login__form),onSubmit:function(e){var r;e.preventDefault(),p&&g&&t((r={email:p,password:g},function(e){e(Q()),S(r).then((function(t){y(t,"accessToken"),y(t,"refreshToken"),e($(t.user.email,t.user.name))})).catch((function(t){e(ee(t))}))}))},children:[Object(oe.jsx)("h1",{className:"".concat(se.a.login__heading," text text_type_main-medium"),children:"\u0412\u0445\u043e\u0434"}),Object(oe.jsx)(u.EmailInput,{onChange:function(e){b(e.target.value)},value:p,name:"email",size:"default"}),Object(oe.jsx)(u.PasswordInput,{onChange:function(e){x(e.target.value)},value:g,name:"password",size:"default"}),Object(oe.jsx)(u.Button,{disabled:""===p&&""===g,type:"primary",size:"large",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(oe.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20 mb-4",children:["\u0412\u044b - \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(oe.jsx)(d.b,{to:"/register",className:"".concat(se.a.login__link," ml-2"),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(oe.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(oe.jsx)(d.b,{to:"/forgot-password",className:"".concat(se.a.login__link," ml-2"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]}),Object(oe.jsx)("p",{className:"".concat(se.a.login__error," text text_type_main-default mt-4"),children:c})]})},le=r(45),de=r.n(le),ue=r(30),me=r.n(ue);function je(){return Object(oe.jsx)("div",{className:"".concat(me.a.preloader__container),children:Object(oe.jsxs)("div",{className:"".concat(me.a.preloader),children:[Object(oe.jsx)("div",{className:"".concat(me.a.preloader__elem," ").concat(me.a.preloader__elem_one)}),Object(oe.jsx)("div",{className:"".concat(me.a.preloader__elem," ").concat(me.a.preloader__elem_two)}),Object(oe.jsx)("div",{className:"".concat(me.a.preloader__elem," ").concat(me.a.preloader__elem_three)})]})})}var pe=function(){var e=j(),t=m((function(e){return e.authUserReducer})),r=t.isLoadingAuth,n=t.registerErrorMessage,a=Object(i.useState)(""),c=Object(l.a)(a,2),s=c[0],o=c[1],_=Object(i.useState)(""),p=Object(l.a)(_,2),b=p[0],f=p[1],O=Object(i.useState)(""),g=Object(l.a)(O,2),x=g[0],h=g[1];return r?Object(oe.jsx)(je,{}):Object(oe.jsxs)("section",{className:"".concat(de.a.register),children:[Object(oe.jsxs)("form",{action:"POST",className:"".concat(de.a.register__form),onSubmit:function(t){t.preventDefault(),s&&b&&x&&e(ae({name:s,email:b,password:x}))},children:[Object(oe.jsx)("h1",{className:"".concat(de.a.register__heading," text text_type_main-medium"),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(oe.jsx)(u.Input,{placeholder:"\u0418\u043c\u044f",name:"name",value:s,onChange:function(e){o(e.target.value)}}),Object(oe.jsx)(u.EmailInput,{onChange:function(e){f(e.target.value)},value:b,name:"email",size:"default"}),Object(oe.jsx)(u.PasswordInput,{onChange:function(e){h(e.target.value)},value:x,name:"password",size:"default"}),Object(oe.jsx)(u.Button,{disabled:""===s&&""===b&&""===x,type:"primary",size:"large",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(oe.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(oe.jsx)(d.b,{to:"/login",className:"".concat(de.a.register__link," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(oe.jsx)("p",{className:"".concat(de.a.register__error," text text_type_main-default mt-4"),children:n})]})},be=r(46),fe=r.n(be);var Oe=function(){var e=Object(_.g)(),t=j(),r=Object(i.useState)(""),n=Object(l.a)(r,2),a=n[0],c=n[1],s=m((function(e){return e.authUserReducer})),o=s.isLoadingAuth,p=s.postEmailForgotPageErrorMessage,b=s.isEmail;return Object(i.useEffect)((function(){"pushToResetPage"===b&&e.push("/reset-password")}),[b,e]),o?Object(oe.jsx)(je,{}):Object(oe.jsxs)("section",{className:"".concat(fe.a["forgot-password"]),children:[Object(oe.jsxs)("form",{action:"POST",className:"".concat(fe.a["forgot-password__form"]),onSubmit:function(e){e.preventDefault(),a&&t(ne(a))},children:[Object(oe.jsx)("h1",{className:"".concat(fe.a["forgot-password__heading"]," text text_type_main-medium"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(oe.jsx)(u.Input,{value:a,onChange:function(e){c(e.target.value)},name:"email",size:"default",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail"}),Object(oe.jsx)(u.Button,{disabled:""===a,type:"primary",size:"large",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(oe.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(oe.jsx)(d.b,{to:"/login",className:"".concat(fe.a["forgot-password__link"]," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]}),p&&Object(oe.jsx)("p",{className:"".concat(fe.a["forgot-password__error"]," text text_type_main-default mt-4"),children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(p,". \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.")})]})},ge=r(47),xe=r.n(ge);var he=function(){var e=Object(_.g)(),t=j(),r=m((function(e){return e.authUserReducer})),n=r.isLoadingAuth,a=r.postNewPasswordError,c=r.isEmail,s=Object(i.useState)(""),o=Object(l.a)(s,2),p=o[0],b=o[1],f=Object(i.useState)(""),O=Object(l.a)(f,2),g=O[0],x=O[1];return Object(i.useEffect)((function(){"pushToLoginPage"===c?e.push("/login"):""===c&&e.push("/forgot-password")}),[c,e]),n?Object(oe.jsx)(je,{}):Object(oe.jsxs)("section",{className:"".concat(xe.a["reset-password"]),children:[Object(oe.jsxs)("form",{action:"POST",className:"".concat(xe.a["reset-password__form"]),onSubmit:function(e){e.preventDefault(),p&&g&&t(re(p,g))},children:[Object(oe.jsx)("h1",{className:"".concat(xe.a["reset-password__heading"]," text text_type_main-medium"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(oe.jsx)(u.Input,{value:p,name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",size:"default",onChange:function(e){b(e.target.value)},icon:"ShowIcon"}),Object(oe.jsx)(u.Input,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",name:"token",onChange:function(e){x(e.target.value)},value:g}),Object(oe.jsx)(u.Button,{disabled:""===p&&""===g,type:"primary",size:"large",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(oe.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(oe.jsx)(d.b,{to:"/login",className:"".concat(xe.a["reset-password__link"]," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]}),a&&Object(oe.jsx)("p",{className:"".concat(xe.a["reset-password"]," text text_type_main-default mt-4"),children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(a,". \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.")})]})},ve=r(20),Ne=r.n(ve);var ye=function(){var e=Object(_.h)().pathname,t="/profile"===e?"primary":"secondary",r="/"===e?"primary":"secondary",n="/feed"===e?"primary":"secondary";return Object(oe.jsxs)("header",{className:"".concat(Ne.a.header," pt-4 pb-4"),children:[Object(oe.jsx)("nav",{className:Ne.a.header__nav,children:Object(oe.jsxs)("ul",{className:"".concat(Ne.a["header__nav-list"]),children:[Object(oe.jsx)("li",{children:Object(oe.jsxs)(d.c,{exact:!0,to:"/",className:"".concat(Ne.a["header__nav-link"]," text text_type_main-default text_color_inactive pl-5 pr-5"),activeClassName:"".concat(Ne.a["header__nav-link_active"]," pl-5 pr-5"),children:[Object(oe.jsx)(u.BurgerIcon,{type:r}),Object(oe.jsx)("p",{className:"ml-2",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object(oe.jsx)("li",{children:Object(oe.jsxs)(d.c,{exact:!0,to:"/feed",className:"".concat(Ne.a["header__nav-link"]," text text_type_main-default text_color_inactive pl-5 pr-5"),activeClassName:"".concat(Ne.a["header__nav-link_active"]," pl-5 pr-5"),children:[Object(oe.jsx)(u.ListIcon,{type:n}),Object(oe.jsx)("p",{className:"ml-2",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})}),Object(oe.jsx)("li",{className:"".concat(Ne.a["header__nav-link_right"]),children:Object(oe.jsxs)(d.c,{to:"/profile",className:"".concat(Ne.a["header__nav-link"]," text text_type_main-default text_color_inactive pl-5 pr-5"),activeClassName:"".concat(Ne.a["header__nav-link_active"]," pl-5 pr-5"),children:[Object(oe.jsx)(u.ProfileIcon,{type:t}),Object(oe.jsx)("p",{className:"ml-2",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})}),Object(oe.jsx)(d.b,{to:"/",className:"".concat(Ne.a.header__logo),children:Object(oe.jsx)(u.Logo,{})})]})},Ee="ADD_INGREDIENT_INSIDE_CONSTRUCTOR",De="REMOVE_INGREDIENT_INSIDE_CONSTRUCTOR",Ce="TOGGLE_BUN_INSIDE_CONSTRUCTOR",Se="CHANGE_INGREDIENT_POSITION",we="CLEAR_CONSTRUCTOR",Te=function(){return{type:we}},Re=r(26),ke=r.n(Re);var Ie=function(){var e=j(),t=m((function(e){return e.authUserReducer})).changeUserResultMessage;return Object(oe.jsxs)("div",{children:[Object(oe.jsxs)("ul",{className:"".concat(ke.a.profile__list),children:[Object(oe.jsx)("li",{className:"".concat(ke.a["profile__list-element"]),children:Object(oe.jsx)(d.c,{exact:!0,to:"/profile",className:"".concat(ke.a.profile__link," text text_type_main-medium text_color_inactive"),activeClassName:"".concat(ke.a.profile__link_active," text text_type_main-medium"),children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(oe.jsx)("li",{className:"".concat(ke.a["profile__list-element"]),children:Object(oe.jsx)(d.c,{exact:!0,to:"/profile/orders",className:"".concat(ke.a.profile__link," text text_type_main-medium text_color_inactive"),activeClassName:"".concat(ke.a.profile__link_active," text text_type_main-medium"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(oe.jsx)("button",{onClick:function(){e(ce()),e(Te())},className:"".concat(ke.a.profile__exit," text text_type_main-medium text_color_inactive"),children:"\u0412\u044b\u0445\u043e\u0434"})]}),Object(oe.jsx)("p",{className:"".concat(ke.a.profile__text," text text_type_main-default text_color_inactive"),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(oe.jsx)("p",{className:"".concat(ke.a.profile__result," text text_type_main-default mt-5"),children:t})]})},Pe=r(33),Fe=r.n(Pe);var Le=function(){var e=j(),t=m((function(e){return e.authUserReducer.user})),r=t.email,n=t.name,a=m((function(e){return e.authUserReducer})).isLoadingAuth,c=Object(i.useState)(""),s=Object(l.a)(c,2),o=s[0],_=s[1],d=Object(i.useState)(r),p=Object(l.a)(d,2),b=p[0],f=p[1],O=Object(i.useState)(n),g=Object(l.a)(O,2),x=g[0],v=g[1];return a?Object(oe.jsx)(je,{}):Object(oe.jsxs)("section",{className:"".concat(Fe.a.profile),children:[Object(oe.jsx)(Ie,{}),Object(oe.jsxs)("form",{method:"POST",name:"profile",className:"".concat(Fe.a.profile__form),onSubmit:function(t){var r;t.preventDefault(),b&&o&&x&&e((r={email:b,password:o,name:x},function(e){e(Q());var t=h("refreshToken"),n=h("accessToken");n?F(r,n).then((function(t){e(X(t.user.email,t.user.name,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b"))})).catch((function(t){e(Z(t))})):t&&I(t).then((function(t){y(t,"accessToken"),y(t,"refreshToken"),(n=h("accessToken"))&&F(r,n).then((function(t){e(X(t.user.email,t.user.name,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b"))})).catch((function(t){e(e(Z(t)))}))})).catch((function(e){return e.message}))}))},children:[Object(oe.jsx)("div",{className:"".concat(Fe.a.form),children:Object(oe.jsx)(u.Input,{placeholder:"\u0418\u043c\u044f",icon:"EditIcon",onChange:function(e){v(e.target.value)},value:x})}),Object(oe.jsx)("div",{className:"".concat(Fe.a.form),children:Object(oe.jsx)(u.Input,{placeholder:"\u041b\u043e\u0433\u0438\u043d",icon:"EditIcon",onChange:function(e){f(e.target.value)},value:b})}),Object(oe.jsx)("div",{className:"".concat(Fe.a.form),children:Object(oe.jsx)(u.Input,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:"EditIcon",onChange:function(e){_(e.target.value)},value:o})}),Object(oe.jsxs)("div",{className:"".concat(Fe.a["profile__buttons-container"]),children:[Object(oe.jsx)(u.Button,{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(oe.jsx)("button",{onClick:function(e){e.preventDefault(),f(r),v(n),_("")},className:"".concat(Fe.a.profile__cansel," text text_type_main-medium ml-20"),children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},Ae=function(e){var t=e.bunHeadingRef,r=e.sauceHeadingRef,n=e.mainIngredientHeadingRef,a=e.value,c=Object(i.useState)(a),s=Object(l.a)(c,2),o=s[0],_=s[1];return Object(i.useEffect)((function(){return _(a)}),[a]),Object(oe.jsxs)("div",{style:{display:"flex"},children:[Object(oe.jsx)(u.Tab,{value:"one",active:"one"===o,onClick:function(e){var r;_(e),null===(r=t.current)||void 0===r||r.scrollIntoView()},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(oe.jsx)(u.Tab,{value:"two",active:"two"===o,onClick:function(e){var t;_(e),null===(t=r.current)||void 0===t||t.scrollIntoView()},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(oe.jsx)(u.Tab,{value:"three",active:"three"===o,onClick:function(e){var t;_(e),null===(t=n.current)||void 0===t||t.scrollIntoView()},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]})},Me=r(213),Ue=r(88),Ge=r.n(Ue);var He=function(e){var t=e.image,r=e.name,n=e.price,a=e.id,c=m((function(e){return e.burgerConstructor.constructorElem})),s=Object(i.useMemo)((function(){return c.reduce((function(e,t){return t._id===a?e+1:e}),0)}),[c]),o=Object(Me.a)({type:"ingredient",item:{id:a},collect:function(e){return{opacity:e.isDragging()?.2:1}}}),_=Object(l.a)(o,2),d=_[0].opacity,j=_[1];return Object(oe.jsxs)("div",{ref:j,style:{opacity:d},children:[s>0&&Object(oe.jsx)(u.Counter,{count:s,size:"default"}),Object(oe.jsx)("img",{src:t,alt:r,className:"ml-4"}),Object(oe.jsxs)("div",{className:"".concat(Ge.a["ingredient__price-container"]," mb-1 mt-1"),children:[Object(oe.jsx)("p",{className:"text text_type_digits-default mr-2",children:n}),Object(oe.jsx)(u.CurrencyIcon,{type:"primary"})]}),Object(oe.jsx)("h2",{className:"".concat(Ge.a.ingredient," text text_type_main-default"),children:r})]})},Be=r(31),We=r.n(Be);var ze=function(e){var t=e.ingredient;return Object(oe.jsxs)("div",{className:"".concat(We.a.ingredientDetails," pr-10 pl-10 pb-15"),children:[Object(oe.jsx)("h1",{className:"text text_type_main-large",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(oe.jsx)("img",{src:t.image_large,alt:t.name,className:"".concat(We.a.ingredientDetails__image," mb-4")}),Object(oe.jsx)("h2",{className:"".concat(We.a.ingredientDetails__name," text text_type_main-medium mb-8"),children:t.name}),Object(oe.jsxs)("ul",{className:"".concat(We.a.ingredientDetails__list),children:[Object(oe.jsxs)("li",{className:"".concat(We.a["ingredientDetails__list-elem"]," mr-5"),children:[Object(oe.jsx)("h3",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(oe.jsx)("p",{className:"text text_type_digits-default",children:t.calories})]}),Object(oe.jsxs)("li",{className:"".concat(We.a["ingredientDetails__list-elem"]," mr-5"),children:[Object(oe.jsx)("h3",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(oe.jsx)("p",{className:"text text_type_digits-default",children:t.proteins})]}),Object(oe.jsxs)("li",{className:"".concat(We.a["ingredientDetails__list-elem"]," mr-5"),children:[Object(oe.jsx)("h3",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(oe.jsx)("p",{className:"text text_type_digits-default",children:t.fat})]}),Object(oe.jsxs)("li",{className:"".concat(We.a["ingredientDetails__list-elem"]," mr-5"),children:[Object(oe.jsx)("h3",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(oe.jsx)("p",{className:"text text_type_digits-default",children:t.carbohydrates})]})]})]})},Ve=r(115),Je=r.n(Ve);var qe=function(e){var t=e.children,r=e.overlayRef;return Object(oe.jsx)("div",{className:Je.a.modalOverlay,ref:r,children:t})},Ye=r(55),Ke=r.n(Ye),Qe=function(e){var t=e.children,r=e.handleCloseModal,n=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=function(e){"Escape"===e.key&&r()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[r]),Object(i.useEffect)((function(){var e=function(e){e.target===n.current&&r()};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[r]),a.a.createPortal(Object(oe.jsxs)("div",{className:"".concat(Ke.a.modal," ").concat(Ke.a.modal_open," "),children:[Object(oe.jsx)(qe,{overlayRef:n}),Object(oe.jsxs)("div",{className:Ke.a.modal__content,children:[Object(oe.jsx)("button",{className:"".concat(Ke.a["modal__button-close"]),onClick:r,children:Object(oe.jsx)(u.CloseIcon,{type:"primary"})}),t]})]}),g)},Xe="ADD_INGREDIENT",Ze="REMOVE_INGREDIENT_DETAILS",$e=r(34),et=r.n($e);var tt=function(){var e=j(),t=Object(_.h)(),r=Object(_.g)(),n=Object(i.useRef)(null),a=Object(i.useRef)(null),c=Object(i.useRef)(null),s=m((function(e){return e.feedIngredients})).ingredientsData,o=m((function(e){return e.ingredientDetails})).ingredientDetails,u=Object(i.useState)("one"),p=Object(l.a)(u,2),b=p[0],f=p[1],O=Object(i.useMemo)((function(){return s.filter((function(e){return"bun"===e.type}))}),[s]),g=Object(i.useMemo)((function(){return s.filter((function(e){return"sauce"===e.type}))}),[s]),x=Object(i.useMemo)((function(){return s.filter((function(e){return"main"===e.type}))}),[s]),h=function(t){var r,n=(r=t,s.find((function(e){return e._id===r})));n&&e(function(e){return{type:Xe,ingredientDetails:e}}(n))},v=function(e){var r=e.image,n=e.name,a=e.price,c=e._id;return Object(oe.jsx)("li",{onClickCapture:function(){return h(c)},className:"".concat(et.a["burger-ingredients__list-elem"]),children:Object(oe.jsx)(d.b,{className:"".concat(et.a["burger-ingredients__link"]),to:{pathname:"/ingredients/".concat(c),state:{background:t}},children:Object(oe.jsx)(He,{image:r,name:n,price:a,id:c})})},c)},N=Object(i.useCallback)((function(e){var t=e.target.getBoundingClientRect().top,r=function(e){return null!==e.current?{top:e.current.getBoundingClientRect().top}:{top:t}},i=Math.abs(r(n).top-t),s=Math.abs(r(a).top-t),o=Math.abs(r(c).top-t);f(s>o?"three":i>s?"two":"one")}),[]);return Object(oe.jsxs)("section",{className:"".concat(et.a["burger-ingredients"]," pt-10 mr-10"),children:[Object(oe.jsx)("h1",{className:"text text_type_main-large mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(oe.jsx)(Ae,{bunHeadingRef:n,sauceHeadingRef:a,mainIngredientHeadingRef:c,value:b}),Object(oe.jsxs)("div",{className:"".concat(et.a["burger-ingredients__container"]),onScroll:N,children:[Object(oe.jsx)("h2",{ref:n,className:"text text_type_main-medium mt-10 mb-6",children:"\u0411\u0443\u043b\u043a\u0438"}),Object(oe.jsx)("ul",{className:"".concat(et.a["burger-ingredients__ingridients-list"]," pl-4 pr-4"),children:O.map(v)}),Object(oe.jsx)("h2",{ref:a,className:"text text_type_main-medium mt-10 mb-6",children:"\u0421\u043e\u0443\u0441\u044b"}),Object(oe.jsx)("ul",{className:"".concat(et.a["burger-ingredients__ingridients-list"]," pl-4 pr-4"),children:g.map(v)}),Object(oe.jsx)("h2",{ref:c,className:"text text_type_main-medium mt-10 mb-6",children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(oe.jsx)("ul",{className:"".concat(et.a["burger-ingredients__ingridients-list"]," pl-4 pr-4"),children:x.map(v)})]}),o&&Object(oe.jsx)(Qe,{handleCloseModal:function(){e(function(e){return{type:Ze,ingredientDetails:e}}(null)),r.replace("/")},children:Object(oe.jsx)(ze,{ingredient:o})})]})},rt=r(2),nt=r(214),at=r(215),ct=r.p+"static/media/done.2022ce2b.svg",it=r(35),st=r.n(it);var ot=function(e){var t=e.orderNum,r=e.errorOrderNum;return Object(oe.jsxs)("div",{className:"".concat(st.a.orderDetails," pt-30 pb-30"),children:[t&&Object(oe.jsx)("h1",{className:"".concat(st.a.orderDetails__heading," text text_type_digits-large mb-8"),children:t}),r&&Object(oe.jsx)("h1",{className:"".concat(st.a.orderDetails__heading," text text_type_digits-default mb-8"),children:r}),Object(oe.jsx)("p",{className:"".concat(st.a.orderDetails__text," text text_type_main-medium mb-15"),children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(oe.jsx)("img",{src:ct,alt:"\u0411\u0435\u043b\u0430\u044f \u0433\u0430\u043b\u043e\u0447\u043a\u0430.",className:"".concat(st.a.orderDetails__image)}),Object(oe.jsx)("p",{className:"".concat(st.a.orderDetails__text," text text_type_main-default mb-2"),children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(oe.jsx)("p",{className:"".concat(st.a.orderDetails__text," text text_type_main-default text_color_inactive"),children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},_t=r(116),lt=r.n(_t);var dt=function(e){var t=e.name,r=e.image,n=e.price,a=e.uid,c=j(),i=Object(Me.a)({type:"constructor-item",item:{uid:a}}),s=Object(l.a)(i,2)[1],o=Object(nt.a)({accept:"constructor-item",hover:function(e){var t;a&&c((t=e.uid,{type:Se,dragUid:t,hoverUid:a}))}}),_=Object(l.a)(o,2)[1],d=function(e){e&&c(function(e){return{type:De,uid:e}}(e))};return Object(oe.jsxs)("div",{ref:function(e){s(e),_(e)},className:"".concat(lt.a["burger-constructor__element"]),children:[Object(oe.jsx)(u.DragIcon,{type:"secondary"}),Object(oe.jsx)(u.ConstructorElement,{isLocked:!1,text:t,price:n,thumbnail:r,handleClose:function(){return d(a)}})]})},ut="POST_ORDER_SUCCESS",mt="POST_ORDER_FAILED",jt="HANDLE_CLOSE_ORDER_MODAL",pt="POST_ORDER_REQUEST",bt="ADD_CURRENT_ORDER_DETAILS",ft="REMOVE_CURRENT_ORDER_DETAILS",Ot=function(){return{type:ft}},gt=function(e){var t=h("accessToken");return function(r){r({type:pt}),C(e,t).then((function(e){var t;r((t=e.order.number,{type:ut,orderNum:t}))})).catch((function(e){r(function(e){return{type:mt,error:e}}(e))}))}},xt=r(27),ht=r.n(xt);var vt=function(){var e=j(),t=Object(_.g)(),r=m((function(e){return e.orderDetails.errorMessage})),n=m((function(e){return e.feedIngredients.ingredientsData})),a=m((function(e){return e.orderDetails.orderNum})),c=m((function(e){return e.orderDetails.isLoading})),s=m((function(e){return e.burgerConstructor.constructorElem})),o=m((function(e){return e.authUserReducer})).isAuth,d=Object(nt.a)({accept:"ingredient",collect:function(e){return{isHover:e.isOver()}},drop:function(e){h(e)}}),p=Object(l.a)(d,2),b=p[0].isHover,f=p[1],O=Object(i.useMemo)((function(){return s.find((function(e){return"bun"===e.type}))}),[s]),g=Object(i.useMemo)((function(){return s.filter((function(e){return"bun"!==e.type}))}),[s]),x=Object(i.useMemo)((function(){return 2*(O?O.price:0)+g.reduce((function(e,t){return e+t.price}),0)}),[O,g]),h=function(t){var r=n.find((function(e){return e._id===t.id}));void 0!==r&&(O&&"bun"===r.type?e({type:Ce,ingredient:r}):e(function(e){return{type:Ee,ingredient:e}}(Object(rt.a)(Object(rt.a)({},r),{},{uid:Object(at.a)()}))))},v=function(e,t,r){var n=e.image,a=e.name,c=e.price,i=e.uid;return Object(oe.jsx)("li",{className:"".concat(ht.a["burger-constructor__orderList-element"]," mr-2 ml-8"),children:Object(oe.jsx)(u.ConstructorElement,{type:t,isLocked:!0,text:"".concat(a," (").concat(r,")"),price:c,thumbnail:n})},"".concat(i).concat(r))},N="".concat(ht.a["burger-constructor"]," ").concat(b?ht.a.onHover:""," pt-25 pl-4");return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("section",{ref:f,className:N,children:[Object(oe.jsxs)("ul",{className:"".concat(ht.a["burger-constructor__bunList"]),children:[O&&v(O,"top","\u0432\u0435\u0440\u0445"),Object(oe.jsx)("ul",{className:"".concat(ht.a["burger-constructor__orderList"]),children:g.map((function(e){var t=e.image,r=e.name,n=e.price,a=e.uid;return Object(oe.jsx)("li",{className:"".concat(ht.a["burger-constructor__orderList-element"]," mr-2"),children:Object(oe.jsx)(dt,{name:r,image:t,price:n,uid:a})},a)}))}),O&&v(O,"bottom","\u043d\u0438\u0437")]}),0===x&&Object(oe.jsx)("p",{className:"".concat(ht.a["burger-constructor__text"]," text text_type_main-default"),children:"\u0414\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u043b\u044e\u0431\u043e\u0439 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442 \u043d\u0430 \u044d\u0442\u0443 \u0441\u0442\u043e\u0440\u043e\u043d\u0443."}),Object(oe.jsxs)("div",{className:"".concat(ht.a["burger-constructor__total-container"]," mt-10"),children:[Object(oe.jsxs)("div",{className:"".concat(ht.a["burger-constructor__total-price-container"]," mr-10"),children:[Object(oe.jsx)("p",{className:"".concat(ht.a["burger-constructor__total-price"]," text text_type_digits-medium"),children:x}),Object(oe.jsx)(u.CurrencyIcon,{type:"primary"})]}),Object(oe.jsx)(u.Button,{disabled:!(x>0),type:"primary",size:"large",onClick:function(){if(o){var r=s.map((function(e){return e._id}));r.length&&(e(gt(r)),e(Te()))}else t.replace("/login")},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]}),c&&Object(oe.jsx)(je,{}),(a||r)&&Object(oe.jsx)(Qe,{handleCloseModal:function(){e({type:jt})},children:Object(oe.jsx)(ot,{orderNum:a,errorOrderNum:r})})]})})},Nt=r(48),yt=r.n(Nt);var Et=function(){return Object(oe.jsxs)("div",{className:"".concat(yt.a.notFound),children:[Object(oe.jsx)("p",{className:"".concat(yt.a.notFound__text," text text_type_digits-large mt-20 mb-20"),children:"404"}),Object(oe.jsx)("p",{className:"".concat(yt.a.notFound__text," text text_type_main-medium mb-10"),children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0442\u0430\u043a\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0438\u043b\u0438 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435."}),Object(oe.jsxs)("p",{className:"".concat(yt.a.notFound__text," text text_type_main-medium"),children:["\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 ",Object(oe.jsx)(d.b,{className:"".concat(yt.a.notFound__link),to:"/",children:"\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]})]})},Dt="GET_FEED_REQUEST",Ct="GET_FEED_SUCCESS",St="GET_FEED_FAILED",wt=function(){return function(e){e({type:Dt}),D().then((function(t){var r;e((r=t.data,{type:Ct,feed:r}))})).catch((function(t){e(function(e){return{type:St,error:e}}(t))}))}};var Tt=function(e){var t=e.children,r=e.redirectPath,n=e.exact,a=m((function(e){return e.authUserReducer})).isAuth;return Object(oe.jsx)(_.b,{exact:n,render:function(e){var n=e.location;return a?t:Object(oe.jsx)(_.a,{to:{pathname:r,state:{from:n}}})}})},Rt=r(28),kt=r.n(Rt);var It=function(){var e=Object(_.i)().id,t=m((function(e){return e.feedIngredients})),r=t.isLoading,n=t.errorMessage,a=t.ingredientsData.find((function(t){return t._id===e}));return r||n||!a?Object(oe.jsx)(je,{}):Object(oe.jsxs)("div",{className:"".concat(kt.a.ingredientDetailsPage," pr-10 pl-10 pb-15"),children:[Object(oe.jsx)("h1",{className:"".concat(kt.a.ingredientDetailsPage__name," text text_type_main-large"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(oe.jsx)("img",{src:a.image_large,alt:a.name,className:"".concat(kt.a.ingredientDetailsPage__image," mb-4")}),Object(oe.jsx)("h2",{className:"".concat(kt.a.ingredientDetailsPage__name," text text_type_main-medium mb-8"),children:a.name}),Object(oe.jsxs)("ul",{className:"".concat(kt.a.ingredientDetailsPage__list),children:[Object(oe.jsxs)("li",{className:"".concat(kt.a["ingredientDetailsPage__list-elem"]," mr-5"),children:[Object(oe.jsx)("h3",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(oe.jsx)("p",{className:"text text_type_digits-default",children:a.calories})]}),Object(oe.jsxs)("li",{className:"".concat(kt.a["ingredientDetailsPage__list-elem"]," mr-5"),children:[Object(oe.jsx)("h3",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(oe.jsx)("p",{className:"text text_type_digits-default",children:a.proteins})]}),Object(oe.jsxs)("li",{className:"".concat(kt.a["ingredientDetailsPage__list-elem"]," mr-5"),children:[Object(oe.jsx)("h3",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(oe.jsx)("p",{className:"text text_type_digits-default",children:a.fat})]}),Object(oe.jsxs)("li",{className:"".concat(kt.a["ingredientDetailsPage__list-elem"]," mr-5"),children:[Object(oe.jsx)("h3",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(oe.jsx)("p",{className:"text text_type_digits-default",children:a.carbohydrates})]})]})]})},Pt="WS_CONNECTION_SUCCESS",Ft="WS_CONNECTION_ERROR",Lt="WS_GET_MESSAGE",At="WS_CONNECTION_CLOSED",Mt=function(){return{type:Pt}},Ut=function(){return{type:Ft}},Gt=function(e){return{type:Lt,payload:e}},Ht=function(){return{type:At}},Bt={wsConnectionStart:{type:"WS_CONNECTION_START"},wsConnectionSuccess:Mt,wsConnectionError:Ut,wsConnectionClosed:Ht,wsConnectionStartClosed:{type:"WS_CONNECTION_START_CLOSED"},wsGetMessage:Gt},Wt={wsConnectionStartWithAuth:{type:"WS_CONNECTION_START_WITH_AUTH"},wsConnectionSuccess:Mt,wsConnectionError:Ut,wsConnectionClosed:Ht,wsConnectionStartClosed:{type:"WS_CONNECTION_START_CLOSED"},wsGetMessage:Gt},zt=function(e){var t=new Date(Date.parse(e)).toString().split(" "),r="",n=new Date,a=Date.parse(n.toString()),c=1e3*(3600*n.getHours()+60*n.getMinutes()+n.getSeconds()),i=Date.parse(e),s=Math.ceil((a-i)/864e5);return r=a-i<c?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f":1===s?"\u0412\u0447\u0435\u0440\u0430":"".concat(s,1<s&&s<5?" \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434":" \u0434\u043d\u0435\u0439 \u043d\u0430\u0437\u0430\u0434"),"".concat(r," ").concat(t[4].slice(0,5)," i-GMT+3")},Vt=r(21),Jt=r.n(Vt);var qt=function(e){var t=e.orderData,r=m((function(e){return e.feedIngredients})).ingredientsData,n=t.ingredients.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{}),a=0;return Object(oe.jsxs)("div",{className:"".concat(Jt.a.orderDscr," pr-10 pl-10 pb-10"),children:[Object(oe.jsxs)("h1",{className:"".concat(Jt.a.orderDscr__number," text text_type_digits-default mb-10"),children:["#",t.number]}),Object(oe.jsx)("h1",{className:"text text_type_main-medium mb-3",children:t.name}),Object(oe.jsx)("p",{className:"".concat(Jt.a.orderDscr__status," text text_type_main-default mb-15"),children:"done"===t.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),Object(oe.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(oe.jsx)("ul",{className:"".concat(Jt.a.orderDscr__list),children:function(e){var t=[],n=function(n){var c=r.filter((function(e){return e._id===n}));t.push(function(e,t){return"bun"===e.type?a+=2*e.price:a+=e.price*t,Object(oe.jsxs)("li",{className:"".concat(Jt.a["orderDscr__flex-container"]),children:[Object(oe.jsx)("img",{className:"".concat(Jt.a.orderDscr__image," mr-4"),src:e.image,alt:e.name}),Object(oe.jsxs)("div",{className:"".concat(Jt.a["orderDscr__text-container"]),children:[Object(oe.jsx)("h3",{className:"".concat(Jt.a["orderDscr__ingr-heading"]," mr-4 text text_type_main-default"),children:e.name}),Object(oe.jsxs)("p",{className:"text text_type_digits-default mr-2 mt-4",children:["bun"===e.type?2:t," x ",e.price]})]}),Object(oe.jsx)("div",{className:"mt-4 mr-6",children:Object(oe.jsx)(u.CurrencyIcon,{type:"primary"})})]},Object(at.a)())}(c[0],e[n]))};for(var c in e)n(c);return t}(n)}),Object(oe.jsxs)("div",{className:"".concat(Jt.a["orderDscr__footer-container"]),children:[Object(oe.jsx)("p",{className:"".concat(Jt.a.orderDscr__date," text text_type_main-default text_color_inactive"),children:zt(t.createdAt)}),Object(oe.jsxs)("div",{className:"".concat(Jt.a["orderDscr__flex-container"]),children:[Object(oe.jsx)("p",{className:"text text_type_digits-default mr-2",children:a}),Object(oe.jsx)(u.CurrencyIcon,{type:"primary"})]})]})]})},Yt=r(117),Kt=r(22),Qt=r.n(Kt);function Xt(e){var t,r=e.orderData,n=m((function(e){return e.feedIngredients})).ingredientsData,a=7,c=r.ingredients.map((function(e){return n.find((function(t){return t._id===e}))})),i=c.filter((function(e){return void 0!==e})),s=0,o=Object(Yt.a)(i);try{for(o.s();!(t=o.n()).done;){var _=t.value;"bun"===_.type?s+=2*_.price:s+=_.price}}catch(d){o.e(d)}finally{o.f()}var l=function(e,t){return a--,Object(oe.jsxs)("li",{className:"".concat(Qt.a["orderFeed__image-list-elem"]),style:{zIndex:a},children:[Object(oe.jsx)("img",{src:e.image,alt:e.name,className:"".concat(Qt.a.orderFeed__image)}),0!==t&&Object(oe.jsxs)("span",{className:"".concat(Qt.a.orderFeed__count," text text_type_main-default"),children:["+",t]})]},Object(at.a)())};return n&&i?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("div",{className:"".concat(Qt.a["orderFeed__number-date-container"]," text text_type_digits-default mb-6"),children:[Object(oe.jsx)("p",{className:"".concat(Qt.a.orderFeed__text," text text_type_digits-default"),children:"#".concat(r.number)}),Object(oe.jsx)("p",{className:"".concat(Qt.a.orderFeed__text," text text_type_main-default text_color_inactive"),children:zt(r.createdAt)})]}),Object(oe.jsx)("h2",{className:"".concat(Qt.a.orderFeed__text," text text_type_main-medium"),children:r.name}),Object(oe.jsxs)("div",{className:"".concat(Qt.a.orderFeed__bottom," mt-6"),children:[Object(oe.jsx)("ul",{className:"".concat(Qt.a["orderFeed__image-list"]),children:function(e){for(var t=[],r=0;r<=e.length-1;r++){if(5===r)return t.push(l(e[r],e.length-5)),t;t.push(l(e[r],0))}return t}(i)}),Object(oe.jsxs)("div",{className:"".concat(Qt.a["orderFeed__price-container"]),children:[Object(oe.jsx)("p",{className:"".concat(Qt.a.orderFeed__price," text text_type_main-medium"),children:s}),Object(oe.jsx)(u.CurrencyIcon,{type:"primary"})]})]})]}):Object(oe.jsx)(je,{})}var Zt=r(64),$t=r.n(Zt);var er=function(e){var t=e.allOrders,r=Object(_.h)(),n=j(),a="/feed"===r.pathname?"/feed":"/profile/orders",c=function(e){n({type:bt,payload:e})};return Object(oe.jsx)("ul",{className:"".concat($t.a["ordersList__orders-container"]),children:t.map((function(e){return Object(oe.jsx)("li",{onClick:function(){return c(e)},className:"".concat($t.a["ordersList__order-list"]),children:Object(oe.jsx)(d.b,{className:"".concat($t.a.ordersList__link),to:{pathname:"".concat(a,"/").concat(e._id),state:{background:r}},children:Object(oe.jsx)(Xt,{orderData:e})})},Object(at.a)())}))})},tr=r(23),rr=r.n(tr);var nr=function(){var e=j(),t=m((function(e){return e.wsReducer})),r=t.orders,n=t.wsConnected,a=t.total,c=t.totalToday,s=t.error,o=m((function(e){return e.orderDetails})).currentOrderDetails,l=Object(_.g)();Object(i.useEffect)((function(){return e({type:"WS_CONNECTION_START"}),function(){e({type:"WS_CONNECTION_START_CLOSED"})}}),[e]);var d=Object(i.useMemo)((function(){return r.filter((function(e){return"done"===e.status}))}),[r]).slice(0,10),u=Object(i.useMemo)((function(){return r.filter((function(e){return"pending"===e.status}))}),[r]).slice(0,10);return n&&!s?Object(oe.jsxs)("section",{className:"".concat(rr.a.feed," mt-10"),children:[Object(oe.jsxs)("div",{className:"".concat(rr.a.feed__container," mr-15"),children:[Object(oe.jsx)("h1",{className:"text text_type_main-large mb-5",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(oe.jsx)(er,{allOrders:r})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsxs)("div",{className:"".concat(rr.a["feed__status-container"]," mb-15"),children:[Object(oe.jsxs)("div",{className:"".concat(rr.a["feed__done-container"]),children:[Object(oe.jsx)("h2",{className:"text text_type_main-medium mt-15 mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(oe.jsx)("ul",{className:"".concat(rr.a["feed__numbers-list"]),children:d.map((function(e){return Object(oe.jsx)("li",{className:"".concat(rr.a["feed__numbers-done"]," text text_type_digits-default"),children:e.number},e._id)}))})]}),Object(oe.jsxs)("div",{className:"".concat(rr.a["feed__done-container"]),children:[Object(oe.jsx)("h2",{className:"text text_type_main-medium mt-15 mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(oe.jsx)("ul",{className:"".concat(rr.a["feed__numbers-list"]),children:u.map((function(e){return Object(oe.jsx)("li",{className:"text text_type_digits-default mb-2",children:e.number},e._id)}))})]})]}),Object(oe.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(oe.jsx)("p",{className:"".concat(rr.a["feed__total-digits"]," text text_type_digits-medium mb-15"),children:a}),Object(oe.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(oe.jsx)("p",{className:"".concat(rr.a["feed__total-digits"]," text text_type_digits-medium"),children:c})]}),o&&Object(oe.jsx)(Qe,{handleCloseModal:function(){e(Ot()),l.replace("/feed")},children:Object(oe.jsx)(qt,{orderData:o})})]}):s?Object(oe.jsx)("p",{className:"".concat(rr.a.main__error," text text_type_main-default"),children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c."}):Object(oe.jsx)(je,{})},ar=r(90),cr=r.n(ar);var ir=function(){var e=j(),t=Object(_.i)().id,r=m((function(e){return e.wsReducer})),n=r.orders,a=r.error,c=Object(_.g)().location,s=c.pathname.split("/")[1],o=c.pathname.split("/").pop();Object(i.useEffect)((function(){return e("profile"===s?{type:"WS_CONNECTION_START_WITH_AUTH"}:{type:"WS_CONNECTION_START"}),function(){e({type:"WS_CONNECTION_START_CLOSED"})}}),[e,s]);var l=n&&void 0===t?n.find((function(e){return e._id===o})):n.find((function(e){return e._id===t}));return l?Object(oe.jsx)("div",{className:"".concat(cr.a["order__main-container"]),children:Object(oe.jsx)(qt,{orderData:l})}):a?Object(oe.jsx)("p",{className:"".concat(cr.a.order__error," text text_type_main-default"),children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c."}):Object(oe.jsx)(je,{})},sr=r(65),or=r.n(sr);var _r=function(){var e=j(),t=m((function(e){return e.wsReducer})),r=t.orders,n=t.wsConnected,a=t.error,c=m((function(e){return e.orderDetails})).currentOrderDetails,s=Object(_.g)();return Object(i.useEffect)((function(){return e({type:"WS_CONNECTION_START_WITH_AUTH"}),function(){e({type:"WS_CONNECTION_START_CLOSED"})}}),[e]),n&&!a&&r?Object(oe.jsxs)("section",{className:"".concat(or.a.profile),children:[Object(oe.jsx)("div",{className:"".concat(or.a["profile__nav-container"]),children:Object(oe.jsx)(Ie,{})}),Object(oe.jsx)(er,{allOrders:r.slice().reverse()}),c&&Object(oe.jsx)(Qe,{handleCloseModal:function(){e(Ot()),s.replace("/profile/orders")},children:Object(oe.jsx)(qt,{orderData:c})})]}):a?Object(oe.jsx)("p",{className:"".concat(or.a["profile__main-error"]," text text_type_main-default"),children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c."}):Object(oe.jsx)(je,{})},lr=r(66),dr=r.n(lr);var ur=function(){var e=j(),t=Object(_.h)(),r="PUSH"===Object(_.g)().action,n=m((function(e){return e.feedIngredients})),a=n.errorMessage,c=n.isLoading,l=r&&t.state&&t.state.background;return Object(i.useEffect)((function(){e(wt()),e(function(e){var t=h("accessToken");return t?function(e){t&&P(t).then((function(t){e($(t.user.email,t.user.name))})).catch((function(t){e(ee(t))}))}:function(e){e(Q());var t=h("refreshToken");t?I(t).then((function(t){y(t,"accessToken"),y(t,"refreshToken");var r=h("accessToken");r&&P(r).then((function(t){e($(t.user.email,t.user.name))})).catch((function(t){e(ee(t))}))})).catch((function(){e(te())})):e(te())}}())}),[e]),a?Object(oe.jsxs)("p",{className:"".concat(dr.a.main__error," text text_type_main-default"),children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ",a]}):c?Object(oe.jsx)("p",{className:"".concat(dr.a.main__error," text text_type_main-default"),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(ye,{}),Object(oe.jsx)("main",{className:"".concat(dr.a.main," pr-5 pl-5"),children:Object(oe.jsxs)(_.d,{location:l||t,children:[Object(oe.jsx)(_.b,{path:"/",exact:!0,children:Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(s.a,{backend:o.a,children:[Object(oe.jsx)(tt,{}),Object(oe.jsx)(vt,{})]})})}),Object(oe.jsx)(_.b,{path:"/register",children:Object(oe.jsx)(pe,{})}),Object(oe.jsx)(_.b,{path:"/forgot-password",children:Object(oe.jsx)(Oe,{})}),Object(oe.jsx)(_.b,{path:"/reset-password",children:Object(oe.jsx)(he,{})}),Object(oe.jsx)(_.b,{path:"/login",children:Object(oe.jsx)(_e,{})}),Object(oe.jsx)(_.b,{path:"/feed",exact:!0,children:Object(oe.jsx)(nr,{})}),Object(oe.jsx)(Tt,{path:"/profile",redirectPath:"/login",exact:!0,children:Object(oe.jsx)(Le,{})}),Object(oe.jsx)(Tt,{path:"/profile/orders",redirectPath:"/login",exact:!0,children:Object(oe.jsx)(_r,{})}),Object(oe.jsx)(Tt,{path:"/profile/orders/:id",redirectPath:"/login",exact:!0,children:Object(oe.jsx)(ir,{})}),Object(oe.jsx)(_.b,{path:"/ingredients/:id",exact:!0,children:Object(oe.jsx)(It,{})}),Object(oe.jsx)(_.b,{path:"/feed/:id",exact:!0,children:Object(oe.jsx)(ir,{})}),Object(oe.jsx)(_.b,{children:Object(oe.jsx)(Et,{})})]})})]})},mr=r(32),jr={isLoading:!1,errorMessage:null,ingredientsData:[]},pr={ingredientDetails:null},br=r(36),fr={constructorElem:[]},Or={orderNum:null,errorMessage:null,isLoading:!1,currentOrderDetails:null},gr={user:{email:"",name:""},isAuth:!1,isLoadingAuth:!1,registerErrorMessage:null,authErrorMessage:null,logoutErrorMessage:null,changeUserResultMessage:"",isEmail:"",postEmailForgotPageErrorMessage:null,postNewPasswordError:null},xr={wsConnected:!1,orders:[],total:null,totalToday:null},hr=Object(mr.b)({feedIngredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return Object(rt.a)(Object(rt.a)({},e),{},{isLoading:!0});case Ct:return Object(rt.a)(Object(rt.a)({},e),{},{ingredientsData:t.feed,isLoading:!1});case St:return{ingredientsData:[],errorMessage:t.error,isLoading:!1};default:return e}},ingredientDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return{ingredientDetails:t.ingredientDetails};case Ze:return{ingredientDetails:null};default:return e}},burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return"bun"===t.ingredient.type?Object(rt.a)(Object(rt.a)({},e),{},{constructorElem:[t.ingredient].concat(Object(br.a)(e.constructorElem))}):Object(rt.a)(Object(rt.a)({},e),{},{constructorElem:[].concat(Object(br.a)(e.constructorElem),[t.ingredient])});case De:return Object(rt.a)(Object(rt.a)({},e),{},{constructorElem:Object(br.a)(e.constructorElem).filter((function(e){return e.uid!==t.uid}))});case we:return Object(rt.a)(Object(rt.a)({},e),{},{constructorElem:[]});case Ce:return Object(rt.a)(Object(rt.a)({},e),{},{constructorElem:Object(br.a)(e.constructorElem).map((function(e){return"bun"===e.type?t.ingredient:e}))});case Se:return Object(rt.a)(Object(rt.a)({},e),{},{constructorElem:Object(br.a)(e.constructorElem).map((function(r){return r.uid===t.dragUid?Object(br.a)(e.constructorElem).find((function(e){return e.uid===t.hoverUid})):r.uid===t.hoverUid?Object(br.a)(e.constructorElem).find((function(e){return e.uid===t.dragUid})):r}))});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return Object(rt.a)(Object(rt.a)({},e),{},{isLoading:!0});case ut:return Object(rt.a)(Object(rt.a)({},e),{},{orderNum:t.orderNum,isLoading:!1});case mt:return Object(rt.a)(Object(rt.a)({},e),{},{orderNum:null,errorMessage:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(t.error,". \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438."),isLoading:!1});case jt:return Object(rt.a)(Object(rt.a)({},e),{},{orderNum:null,errorMessage:null,isLoading:!1});case bt:return Object(rt.a)(Object(rt.a)({},e),{},{currentOrderDetails:t.payload});case ft:return Object(rt.a)(Object(rt.a)({},e),{},{currentOrderDetails:null});default:return e}},authUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(rt.a)(Object(rt.a)({},e),{},{isLoadingAuth:!0});case A:return Object(rt.a)(Object(rt.a)({},e),{},{isLoadingAuth:!1,isAuth:!0});case M:return Object(rt.a)(Object(rt.a)({},e),{},{registerErrorMessage:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ".concat(t.registerErrorMessage,". \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438."),isLoadingAuth:!1});case U:return Object(rt.a)(Object(rt.a)({},e),{},{user:{email:t.email,name:t.name},isLoadingAuth:!1,isAuth:!0,authErrorMessage:null});case G:return Object(rt.a)(Object(rt.a)({},e),{},{authErrorMessage:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(t.authErrorMessage,". \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u043b\u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0437\u0436\u0435."),isLoadingAuth:!1});case W:return Object(rt.a)(Object(rt.a)({},e),{},{user:{email:t.email,name:t.name},isLoadingAuth:!1,changeUserResultMessage:t.changeUserResultMessage});case z:return Object(rt.a)(Object(rt.a)({},e),{},{changeUserResultMessage:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(t.changeUserErrorMessage,". \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435."),isLoadingAuth:!1});case H:return Object(rt.a)(Object(rt.a)({},e),{},{user:{email:"",name:""},isLoadingAuth:!1,isAuth:!1});case B:return Object(rt.a)(Object(rt.a)({},e),{},{logoutErrorMessage:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(t.logoutErrorMessage,"."),isLoadingAuth:!1});case V:return Object(rt.a)(Object(rt.a)({},e),{},{isEmail:"pushToResetPage",isLoadingAuth:!1});case J:return Object(rt.a)(Object(rt.a)({},e),{},{postEmailForgotPageErrorMessage:t.postEmailForgotPageErrorMessage,isLoadingAuth:!1});case q:return Object(rt.a)(Object(rt.a)({},e),{},{isLoadingAuth:!1,isEmail:"pushToLoginPage"});case Y:return Object(rt.a)(Object(rt.a)({},e),{},{isLoadingAuth:!1,postNewPasswordError:t.postNewpasswordErrorMessage});case K:return Object(rt.a)(Object(rt.a)({},e),{},{isLoadingAuth:!1});default:return e}},wsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:return Object(rt.a)(Object(rt.a)({},e),{},{wsConnected:!0});case Ft:return Object(rt.a)({},e);case Lt:return Object(rt.a)(Object(rt.a)({},e),{},{orders:t.payload.orders,total:t.payload.total,totalToday:t.payload.totalToday});case At:return Object(rt.a)(Object(rt.a)({},e),{},{orders:[],wsConnected:!1});default:return e}}}),vr=r(118),Nr=function(e,t,r){return function(n){var a=null;return function(c){return function(i){var s=n.dispatch,o=i.type;if("withoutAuth"===r)o===t.wsConnectionStart.type&&(a=new WebSocket(e));else if("withAuth"===r&&o===t.wsConnectionStartWithAuth.type){var _=h("accessToken");a=new WebSocket("".concat(e,"?token=").concat(_))}a&&(a.onopen=function(e){var r;1===(null===(r=a)||void 0===r?void 0:r.readyState)&&s(t.wsConnectionSuccess())},a.onerror=function(e){s(t.wsConnectionError())},a.onmessage=function(e){var r=e.data;s(t.wsGetMessage(JSON.parse(r)))},a.onclose=function(e){s(t.wsConnectionClosed())},o===t.wsConnectionStartClosed.type&&a.close(1e3,"reason")),c(i)}}}},yr=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||mr.c)(Object(mr.a)(vr.a,Nr("".concat(x,"/all"),Bt,"withoutAuth"),Nr(x,Wt,"withAuth"))),Er=Object(mr.d)(hr,yr);r(206);a.a.render(Object(oe.jsx)(d.a,{basename:"react-burger",children:Object(oe.jsx)(c.a,{store:Er,children:Object(oe.jsx)(ur,{})})}),document.querySelector("#root"))},21:function(e,t,r){e.exports={orderDscr:"OrderDescription_orderDscr__3qqRw",orderDscr__number:"OrderDescription_orderDscr__number__3bFbK",orderDscr__status:"OrderDescription_orderDscr__status__19hYg",orderDscr__list:"OrderDescription_orderDscr__list__bkGKt",orderDscr__image:"OrderDescription_orderDscr__image__2EiOE","orderDscr__ingr-heading":"OrderDescription_orderDscr__ingr-heading__34LmF","orderDscr__text-container":"OrderDescription_orderDscr__text-container__2uKLJ","orderDscr__footer-container":"OrderDescription_orderDscr__footer-container__1jkwW",orderDscr__date:"OrderDescription_orderDscr__date__2UuJP","orderDscr__flex-container":"OrderDescription_orderDscr__flex-container__1RSXH"}},22:function(e,t,r){e.exports={"orderFeed__number-date-container":"OrderFeed_orderFeed__number-date-container__2M2U6",orderFeed__text:"OrderFeed_orderFeed__text__1aNry","orderFeed__image-list":"OrderFeed_orderFeed__image-list__1KVbq","orderFeed__image-list-elem":"OrderFeed_orderFeed__image-list-elem__uCHp5","orderFeed__image-list-last-elem":"OrderFeed_orderFeed__image-list-last-elem__3X_u8",orderFeed__image:"OrderFeed_orderFeed__image__21tm7","orderFeed__last-image":"OrderFeed_orderFeed__last-image__2IIFz",orderFeed__count:"OrderFeed_orderFeed__count__pSYLG",orderFeed__price:"OrderFeed_orderFeed__price__VgHbp",orderFeed__bottom:"OrderFeed_orderFeed__bottom__16wTO","orderFeed__price-container":"OrderFeed_orderFeed__price-container__1hTXk"}},23:function(e,t,r){e.exports={feed:"Feed_feed__nA3DB","feed__numbers-list":"Feed_feed__numbers-list__vUtld","feed__done-container":"Feed_feed__done-container__3qyiB","feed__total-digits":"Feed_feed__total-digits__36BYV","feed__numbers-done":"Feed_feed__numbers-done__a23H4","feed__status-container":"Feed_feed__status-container__1R-AY",feed__main__error:"Feed_feed__main__error__1KAdr",feed__container:"Feed_feed__container__3a6vt"}},26:function(e,t,r){e.exports={profile__list:"ProfileNav_profile__list__3SnvV","profile__list-element":"ProfileNav_profile__list-element__5U5H8",profile__link:"ProfileNav_profile__link__KZiBV",profile__link_active:"ProfileNav_profile__link_active__18czU",profile__exit:"ProfileNav_profile__exit__2feI8",profile__text:"ProfileNav_profile__text__15kz_",profile__result:"ProfileNav_profile__result__3I1iJ"}},27:function(e,t,r){e.exports={"burger-constructor":"BurgerConstructor_burger-constructor__2m5BV","burger-constructor__orderList-element":"BurgerConstructor_burger-constructor__orderList-element__2RPLH","burger-constructor__bunList":"BurgerConstructor_burger-constructor__bunList__2BMQk","burger-constructor__orderList":"BurgerConstructor_burger-constructor__orderList__3nV_-","burger-constructor__total-container":"BurgerConstructor_burger-constructor__total-container__13pd-","burger-constructor__total-price":"BurgerConstructor_burger-constructor__total-price__2BK_N","burger-constructor__total-price-container":"BurgerConstructor_burger-constructor__total-price-container__3ETcn",onHover:"BurgerConstructor_onHover__sd6lD","burger-constructor__text":"BurgerConstructor_burger-constructor__text__26-FX"}},28:function(e,t,r){e.exports={ingredientDetailsPage:"IngredientDetailsPage_ingredientDetailsPage__2udVw",ingredientDetailsPage__name:"IngredientDetailsPage_ingredientDetailsPage__name__3iq_I",ingredientDetailsPage__image:"IngredientDetailsPage_ingredientDetailsPage__image__pzlXs",ingredientDetailsPage__list:"IngredientDetailsPage_ingredientDetailsPage__list__GCr9E","ingredientDetailsPage__list-elem":"IngredientDetailsPage_ingredientDetailsPage__list-elem__dACOg"}},30:function(e,t,r){e.exports={preloader:"Preloader_preloader__3CEzV",preloader__container:"Preloader_preloader__container__11zjP",preloader__elem:"Preloader_preloader__elem__29Y9p",preloader__elem_one:"Preloader_preloader__elem_one__2EUY_",one:"Preloader_one__oCwGo",preloader__elem_two:"Preloader_preloader__elem_two__1BsOY",two:"Preloader_two__2Wn9q",preloader__elem_three:"Preloader_preloader__elem_three__3e9RO",three:"Preloader_three__zji2k"}},31:function(e,t,r){e.exports={ingredientDetails:"IngredientDetails_ingredientDetails__3Lq5p",ingredientDetails__name:"IngredientDetails_ingredientDetails__name__3SjGx",ingredientDetails__image:"IngredientDetails_ingredientDetails__image__1rOsg",ingredientDetails__list:"IngredientDetails_ingredientDetails__list__1sFQJ","ingredientDetails__list-elem":"IngredientDetails_ingredientDetails__list-elem__1aWYP"}},33:function(e,t,r){e.exports={profile:"Profile_profile__3F9t0",profile__form:"Profile_profile__form__3M7ZY",form:"Profile_form__1UirM","profile__buttons-container":"Profile_profile__buttons-container__1CK0Z",profile__cansel:"Profile_profile__cansel__1-OPu"}},34:function(e,t,r){e.exports={"burger-ingredients":"BurgerIngredients_burger-ingredients__1WQ1r","burger-ingredients__ingridients-list":"BurgerIngredients_burger-ingredients__ingridients-list__1cOp1","burger-ingredients__list-elem":"BurgerIngredients_burger-ingredients__list-elem__1RAFW","burger-ingredients__container":"BurgerIngredients_burger-ingredients__container__zSnF5","burger-ingredients__link":"BurgerIngredients_burger-ingredients__link__1rmhq"}},35:function(e,t,r){e.exports={orderDetails:"OrderDetails_orderDetails__2c8hI",orderDetails__text:"OrderDetails_orderDetails__text__SZayw",orderDetails__image:"OrderDetails_orderDetails__image__25gXE",orderDetails__heading:"OrderDetails_orderDetails__heading__2OfP7"}},40:function(e,t,r){e.exports={login:"Login_login__1ejYH",login__form:"Login_login__form__nUAP_",login__heading:"Login_login__heading__2WgAZ",login__link:"Login_login__link__3X4K3",login__error:"Login_login__error__2hUpG"}},45:function(e,t,r){e.exports={register:"Register_register__Hf2Cq",register__form:"Register_register__form__3ncMi",register__heading:"Register_register__heading__3Gyqm",register__link:"Register_register__link__2mCmf",register__error:"Register_register__error__3e1NI"}},46:function(e,t,r){e.exports={"forgot-password":"ForgotPassword_forgot-password__1mogA","forgot-password__form":"ForgotPassword_forgot-password__form__3-wL8","forgot-password__heading":"ForgotPassword_forgot-password__heading__UqgIu","forgot-password__link":"ForgotPassword_forgot-password__link__1NgC-","forgot-password__error":"ForgotPassword_forgot-password__error__2SGTo"}},47:function(e,t,r){e.exports={"reset-password":"ResetPassword_reset-password__2tyTB","reset-password__form":"ResetPassword_reset-password__form__2On9K","reset-password__heading":"ResetPassword_reset-password__heading__3lLWK","reset-password__link":"ResetPassword_reset-password__link__18dYU","reset-password__error":"ResetPassword_reset-password__error__3cL67"}},48:function(e,t,r){e.exports={notFound:"NotFound404_notFound__Tp7Db",notFound__link:"NotFound404_notFound__link__3Bxkb",notFound__text:"NotFound404_notFound__text__1FeIT"}},55:function(e,t,r){e.exports={modal:"Modal_modal__3p4ME",modal_open:"Modal_modal_open__3yVi2",modal__content:"Modal_modal__content__bOvRS","modal__button-close":"Modal_modal__button-close__3YlC5"}},64:function(e,t,r){e.exports={"ordersList__orders-container":"OrdersList_ordersList__orders-container__3UPMG",ordersList__link:"OrdersList_ordersList__link__3ji5W","ordersList__order-list":"OrdersList_ordersList__order-list__32Pne"}},65:function(e,t,r){e.exports={profile:"ProfileOrders_profile__kbqQl","profile__nav-container":"ProfileOrders_profile__nav-container__UlY-o","profile__main-error":"ProfileOrders_profile__main-error__BeNnc"}},66:function(e,t,r){e.exports={main:"App_main__2saeG",main__error:"App_main__error__2gjJc"}},88:function(e,t,r){e.exports={ingredient:"Ingredient_ingredient__18sFS","ingredient__price-container":"Ingredient_ingredient__price-container__2jQpf"}},90:function(e,t,r){e.exports={"order__main-container":"OrderDescriptionPage_order__main-container__JwgII",order__error:"OrderDescriptionPage_order__error__11zzG"}}},[[207,1,2]]]);
//# sourceMappingURL=main.799da85f.chunk.js.map